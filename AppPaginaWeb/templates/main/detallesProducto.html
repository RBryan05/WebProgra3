{% extends 'main/base.html' %}
{% load static %}


{% block title %}Información del Producto - {{ block.super }}{% endblock %}


{% block content %}
<link rel="stylesheet" href="{% static 'css/styles_infoProducto.css' %}">
<link rel="stylesheet" href="{% static 'css/styles_comentarios.css' %}">
<main class="producto-container">
  <!-- Encabezado con foto e información -->
  <h2 class="title">Información del Producto</h2>
  <div class="producto-header">
    <!-- Foto del producto -->
    <div class="producto-imagen">
      <img src="{% static 'img/default_product.webp' %}" alt="Imagen del producto" id="fotoProducto" loading="lazy">
    </div>


    <!-- Información del producto y negocio -->
    <div class="producto-info">
      <!-- Información del producto -->
      <article class="info-section">
        <h1 class="producto-title" id="nombreProducto">Nombre del Producto</h1>
        <p class="precio-producto" id="precioProducto">$00.00</p>

        <div class="calificacion-producto">
          <span class="calificacion-promedio" id="promedioCalificacion">0.0</span>
          <div class="estrellas-promedio" id="estrellasPromedio"></div>
          <span class="cantidad-calificaciones" id="cantidadCalificaciones">(0 reseñas)</span>
        </div>

        <p class="descripcion-producto" id="descripcionProducto">Descripción del producto...</p>
        <a href="#" id="agregarAFav" class="btn btn-outline-primary">Agregar a Favoritos</a>
      </article>


      <!-- Información del negocio -->
      <article class="info-section">
        <h2>Publicado por</h2>
        <p class="negocio-dato nombre-negocio" id="nombreNegocio">Nombre del Negocio</p>
        <p class="negocio-dato texto-encabezado" id="categoriaNegocio">Descripcion:</p>
        <p class="descripcion-negocio" id="descripcionNegocio">Descripción del negocio...</p>
        <p class="negocio-dato direccion-negocio" id="direccionNegocio">Dirección del negocio</p>
        <p class="negocio-dato telefono-negocio" id="telefonoNegocio">Teléfono de contacto</p>
        <a href="#" id="verNegocioLink" class="btn btn-ver-negocio btn-outline-primary">Más Información del Negocio</a>
      </article>
    </div>
  </div>

  <!-- Sección de comentarios -->
  <section class="comentarios-section">
    <h2>Comentarios</h2>
    <div class="comentarios-lista-container" id="comentariosListaContainer">
      <div class="comentarios-lista" id="comentariosLista">
        <!-- Comentarios se cargarán aquí -->
      </div>
    </div>
    <!-- En tu template HTML, modifica la sección del formulario de comentarios -->
    <form class="comentario-formulario" id="formComentario">
      <label for="nuevoComentario" class="visually-hidden">Escribe tu comentario</label>
      <textarea id="nuevoComentario" placeholder="Escribe tu comentario público sobre este producto..."
        required></textarea>

      <div class="calificacion-input">
        <label>Calificación:</label>
        <div class="estrellas-seleccion">
          {% for i in "12345" %}
          <i class="bi bi-star estrella-seleccionable" data-valor="{{ i }}"></i>
          {% endfor %}
        </div>
        <input type="hidden" id="calificacionInput" name="calificacion" value="5" required>
      </div>

      <button type="submit" class="btn btn-comentario btn-outline-primary">Enviar Comentario</button>
    </form>
  </section>
</main>

<!-- Datos estáticos para JS -->
<div id="static-data" data-default-profile="{% static 'img/default_product.webp' %}" aria-hidden="true"
  data-imagen-perfil="{% static 'img/default_profile.avif' %}">
</div>

<script src="{% static 'js/detalleProducto.js' %}"></script>
<script src="{% static 'js/agregarFav.js' %}"></script>
<script src="{% static 'js/comentarios.js' %}"></script>

{% endblock %}